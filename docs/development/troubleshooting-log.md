# 故障排除日志

## 日志格式说明

每个问题记录应包含以下信息：
- 日期时间
- 问题分类
- 问题描述
- 解决方案
- 预防措施
- 处理时间

---

## 2026-02-01 示例记录

### 问题 #001: Maven测试日志输出过多
**时间**: 2026-02-01 14:30  
**分类**: 配置优化  
**严重程度**: 低  

**问题描述**:
Maven测试命令输出日志过长，影响AI上下文处理效率

**症状**:
- `mvn test` 输出大量Spring Boot启动日志
- TestContainers产生冗余信息
- 难以快速定位关键错误信息

**根本原因**:
- 日志级别配置过于详细
- Maven插件未配置输出重定向
- 缺少简化的测试脚本

**解决方案**:
1. 更新 `application-test.yml` 日志级别为ERROR
2. 配置Maven Surefire插件 `redirectTestOutputToFile=true`
3. 创建 `test-quiet.sh` 和 `test-summary.bat` 脚本
4. 添加日志过滤机制

**验证步骤**:
- [x] 运行 `mvn test -q` 验证输出减少
- [x] 测试新脚本功能正常
- [x] 确认错误信息仍然可见

**预防措施**:
- 在CI/CD流程中使用安静模式
- 定期审查日志配置
- 为新项目建立日志配置模板

**处理时间**: 45分钟  
**解决者**: AI助手

---

## 模板记录

### 问题 #XXX: [问题标题]
**时间**: YYYY-MM-DD HH:MM  
**分类**: [编译错误|测试失败|依赖问题|环境问题|配置问题]  
**严重程度**: [高|中|低]  

**问题描述**:
[详细描述问题现象]

**症状**:
- [列出观察到的症状]
- [包含关键错误信息]

**根本原因**:
[分析得出的根本原因]

**解决方案**:
1. [具体的解决步骤]
2. [包含命令和配置更改]

**验证步骤**:
- [ ] [验证项目1]
- [ ] [验证项目2]

**预防措施**:
[避免问题再次发生的措施]

**处理时间**: [实际花费时间]  
**解决者**: [处理人员]

---

## 常见问题快速参考

### 编译错误
- **包不存在**: 检查依赖声明和Maven仓库
- **符号找不到**: 验证导入语句和类路径
- **版本冲突**: 使用 `mvn dependency:tree` 分析

### 测试失败
- **连接被拒绝**: 检查TestContainers和Docker状态
- **测试超时**: 增加超时时间或优化测试逻辑
- **数据库问题**: 验证Flyway迁移和测试数据

### 环境问题
- **权限错误**: 检查文件和目录权限
- **端口占用**: 使用 `netstat` 检查端口状态
- **内存不足**: 调整JVM参数或系统资源

---

**维护说明**: 
- 每月整理和归档旧记录
- 提取常见问题形成知识库
- 更新预防措施和最佳实践